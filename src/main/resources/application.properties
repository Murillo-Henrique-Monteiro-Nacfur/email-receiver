# =================================================
# CONFIGURA��O PADR�O (PARA PRODU��O NO GOOGLE CLOUD)
# =================================================
quarkus.funqy.export=emailReceiverProcessor

# --- Configura��o para Cloud Run ---
quarkus.http.port=${PORT:8080}
quarkus.http.host=0.0.0.0

# --- Configura��o do Banco de Dados com Cloud SQL Auth Proxy (Seguro) ---
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=application

# --- Configuração de Diagnóstico ---
# Força o log em modo DEBUG para obtermos mais informações sobre a falha.
quarkus.log.level=DEBUG
# Define explicitamente o ID do projeto para evitar falhas de descoberta.
quarkus.google.cloud.project-id=nenhanced-kit-295812

# Busca a senha diretamente do Google Secret Manager.
# Substitua 'NOME_DA_SUA_SECRET' pelo nome da secret que você criou.
quarkus.datasource.password=XbO;57M.K)9<xJ98

# Conexão Segura via Cloud SQL
quarkus.datasource.jdbc.url=jdbc:postgresql://34.95.150.218:5432/prototype-db

#
#quarkus.datasource.cloud-sql.instance-connection-name=nenhanced-kit-295812:southamerica-east1:postech-fiap-tcf4-project
quarkus.datasource.cloud-sql.database-name=prototype-db
quarkus.datasource.jdbc.driver=org.postgresql.Driver

# --- Configuração do Hibernate com Panache ---
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=true

quarkus.native.enable-ssl=true

# =================================================
# PERFIL DE DESENVOLVIMENTO (PARA RODAR LOCALMENTE)
# Ativado com: mvn quarkus:dev
# =================================================
%dev.quarkus.funqy.export=scheduledReport

# --- Configura��o do Banco de Dados para Docker Local ---
%dev.quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.username=application
%dev.quarkus.datasource.password=l4rQ}5`~]]{f+M{$

# URL JDBC para conectar ao PostgreSQL rodando em Docker na porta padr�o.
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://34.39.226.182:5432/postech-fiap-tcf4

# --- Configura��o do Hibernate para Dev ---
%dev.quarkus.hibernate-orm.database.generation=none
#%dev.quarkus.hibernate-orm.log.sql=true
